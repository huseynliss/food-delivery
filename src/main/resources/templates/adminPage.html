<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Admin</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&family=The+Nautigal:wght@700&display=swap"
          rel="stylesheet">

</head>

<style>
    .container {
        margin-top: 20px;
    }

    .logo {
        position: relative;
        text-decoration: none;
        font-weight: 700;
        font-family: SansSerif;
    }

    .header {
        margin: 20px;
        text-align: center;
    }

    .buttons {
        display: flex;
        justify-content: space-between;
        margin-left: 10px;
    }

    .button:hover {
        background-color: rgb(170, 8, 8);
    }

    a {
        text-decoration: none;
    }
</style>
<body>
<div class="container" >
    <div class="header">
        <h1 class="logo" style="color: orange">foodWagon</h1>
        <h4>for managers</h4>
        <div style="margin-left: 950px;"><a href="http://localhost:8081/admin/addProduct"><button style="font-weight: bold">Add product</button></a></div>
    </div>
    <h5>Products</h5>
    <table id="example" class="table table-bordered table-striped" style="width: 100%">
        <thead>
        <tr class=" table table-dark">
            <th>Name</th>
            <th>Price</th>
            <th>Image</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="product : ${products}">
            <td th:text="${product.getName()}"/>
            <td th:text="${product.getPrice()+product.getCurrency()}"/>
            <td th:text="${product.getImage().length() > 20 ? product.getImage().substring(0, 20) + '...' : product.getImage()}"/>


            <td class="buttons">


                <a th:href="${'http://localhost:8081/admin/deleteProduct/' + product.getId()}">
                    <button class="button btn-dark" id="deleteButton">Delete</button>
                </a>
            </td>
        </tr>
        </tbody>
    </table>
    <table id="example2" class="table table-bordered table-striped" style="width: 100%">
        <thead>
        <tr class=" table table-dark">
            <th>Name</th>
            <th>Price</th>
            <th>Image</th>
        </tr>
        </thead>
        <h5>Restaurants</h5>
        <tbody>
        <tr th:each="location : ${locations}">
            <td th:text="${location.getLocation()}"/>
            <td th:text="${location.getRestaurantLogo()}"/>


            <td class="buttons">


                <a th:href="${'http://localhost:8081/admin/deleteLocation/' + location.getId()}">
                    <button class="button btn-dark" name="delete">Delete</button>
                </a>
            </td>
        </tr>
        </tbody>
    </table>

</div>
<script !src="">
    document.getElementById("deleteButton").addEventListener("click", function(){
        location.reload();
    });
</script>
</body>
</html>